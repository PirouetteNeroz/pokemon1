<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventaire CardTrader</title>
    <!-- Lien vers le CSS externe -->
    <link href="css/style.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
    <div id="app">
        <div class="container-fluid">
            <div class="row">
                <!-- Sidebar (Filtres) -->
               <div class="col-md-3 col-lg-2 sidebar p-3">
                    <h2 class="text-warning">Filtres</h2>
                    <input type="text" v-model="searchQuery" class="form-control mb-3" placeholder="üîç Rechercher...">
                    <select v-model="selectedExpansion" class="form-select mb-3">
                        <option value="">Toutes les Extensions</option>
                        <option v-for="(code, id) in expansions" :value="id">{{ code }}</option>
                    </select>
                    <select v-model="selectedLanguage" class="form-select mb-3">
                        <option value="">Toutes les Langues</option>
                        <option value="en">Anglais</option>
                        <option value="jp">Japonais</option>
                    </select>
                    <select v-model="selectedRarity" class="form-select mb-3">
                        <option value="">Toutes les Raret√©s</option>
                        <option value="Common">Commun</option>
                        <option value="Uncommon">Peu Commun</option>
                        <option value="Rare">Rare</option>
                    </select>
                    <select v-model="selectedReverse" class="form-select mb-3">
                        <option value="">Toutes les Cartes</option>
                        <option value="true">Cartes Invers√©es</option>
                        <option value="false">Cartes Normales</option>
                    </select>
                    <select v-model="sortOrder" class="form-select mb-3">
                        <option value="">Aucun Tri</option>
                        <option value="asc">Tri Ascendant</option>
                        <option value="desc">Tri Descendant</option>
                    </select>
                    <button class="btn btn-warning w-100 mb-3" @click="updateDisplay">Rechercher</button>
                    <button class="btn btn-outline-warning w-100 mb-3" @click="toggleView">Basculer en Liste</button>
                <!-- Contenu Principal -->
                <div class="col-md-9 col-lg-10 content p-3">
                    <h2>Inventaire</h2>
                    <div v-if="viewMode === 'grid'" class="row row-cols-1 row-cols-md-3 row-cols-lg-4 g-4">
                        <div v-for="card in filteredCards" :key="card.blueprint_id" class="col">
                            <div class="card h-100">
                                <img :src="`${imageBaseUrl}${card.blueprint_id}.jpg`" :alt="card.name_en" class="card-img-top">
                                <div class="card-body">
                                    <h3 class="card-title">{{ card.name_en }} ({{ expansions[card.expansion.id] }} {{ card.properties_hash.collector_number || 'N/A' }})</h3>
                                    <span class="expansion-code">{{ expansions[card.expansion.id] }}</span>
                                    <p class="card-text">{{ (card.price_cents / 100).toFixed(2) }} ‚Ç¨</p>
                                    <p class="card-text">Quantit√©: {{ card.quantity || 0 }}</p>
                                    <button class="btn btn-warning w-100" @click="addToCart(card)">Ajouter au panier</button>
                                </div>
                            </div>
                        </div>
                    </div>
            </div>
        </div>
    </div>
    <!-- Lien vers Vue.js -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- Lien vers le JS externe -->
    <script src="js/app.js"></script>
</body>
</html>
